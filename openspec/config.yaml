schema: spec-driven
context: |
  项目：Novel Assistant（中文玄幻世界观数据库）
  目标：以大纲驱动维护长篇玄幻小说的世界观一致性
  语言：中文，半文半白表达；禁止西幻翻译腔
  核心文件：world/outline.md，world/characters.yaml，world/timeline.md，
          world/geography.md，world/inventory.md
  模板目录：templates/*
  核心原则：
    - 大纲优先（Outline First）
    - 战力与时间线一致性，不得崩坏
    - 伏笔可追踪并回收
  工作流：
    - 初始化/更新 World Bible → 生成正文 → 校验 → 同步数据
  约束：
    - 境界压制：低两大境界不得击败高境界（特殊法宝除外）
    - 地图势力：建议进入等级与消息传播延迟
    - 道具功法：使用需记录消耗与冷却
rules:
  proposal:
    - 使用中文撰写，500-800 字
    - 包含目标、范围、非目标（Non-goals）
    - 声明影响面：角色/时间线/地理/道具
    - 不包含实施细节与代码
  design:
    - 提供数据流或状态机 ASCII 图
    - 列出关键约束与不变量（战力、时间线、一致性）
    - 指定与 World Bible 的读写触点（文件/接口）
    - 明确回滚与冲突解决策略
  tasks:
    - 任务粒度 30-90 分钟，动词开头
    - 包含完成定义（DoD）与验证方式
    - 避免一次任务跨多个领域，优先分拆
  specs:
    - 面向能力与约束，避免实现细节
    - 写明边界条件、失败模式与监控信号
    - 对齐“大纲驱动”与一致性校验要求
